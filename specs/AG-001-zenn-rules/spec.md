# /specify AG-001 Zenn本ルール追加

## ゴール
- Codex運用ガイド(AGENTS.md)に、Zenn本「Next.js 15 / React 19 実践設計ガイド」第1〜7章の開発ルールを反映する
- Codex利用者が章別の実装指針を素早く参照できる状態を作る

## コンテキスト
- 現状のAGENTS.mdはSDDフローやリポジトリ不変条件が中心で、章別ベストプラクティスは未整理
- 書籍はNext.js 15 / React 19向け実装観点（構成、コンポーネント、データ取得・更新、状態管理、キャッシュ、エラーハンドリング）を体系化
- Codexは`.cursor/rules/`配下のルールも参照するため、配置場所や粒度を統一する必要がある

## ユーザーストーリー
- As a Codex利用者, When AGENTS.mdで開発ルールを確認したいとき, I want 書籍準拠の章別ルールがまとまっている so that Next.js 15 / React 19実装を一貫した品質で進められる。

## 機能要件
- [ ] 書籍第1〜7章それぞれの主要ルール・アンチパターン・推奨プラクティスを整理する
- [ ] AGENTS.mdから章別ルールを参照できる（直接記載 or 専用ファイルへのリンク）
- [ ] 既存のSDDフローとの整合（フェーズやコマンドテンプレートとの矛盾がない）

### 章別ルール配置案 (Best-of-N)
1. **案A: AGENTS.md内に章別セクションを追加**
   - 長所: ワンストップで参照可能／既存ドキュメントに完結
   - リスク: ファイル肥大化による可読性低下、将来の章追加時のメンテ負荷
2. **案B: `docs/`または`.cursor/rules/`に章別ファイルを新設し、AGENTS.mdからリンク**
   - 長所: 章ごとに保守しやすい／既存ルールと同じ読み込み経路を活用可能
   - リスク: 参照先が分散し初学者が迷う可能性
3. **採用案: 案Bを採用し、AGENTS.mdにサマリー＋参照リンクを設置**
   - 根拠: 微細な章別ルールを専用ファイルに切り出すことで将来の改訂や章追加に対応しやすく、`.cursor/rules/`読み込みの恩恵を得られる

## 非機能要件
- 章別ルールは日本語で簡潔にまとめ、箇条書き中心でCodexが解釈しやすくする
- `.cursor/rules/`へ配置する場合は既存ファイル形式（`.mdc`）とスタイルに準拠
- AGENTS.mdのdiffは最小限とし、既存ルールの可読性を損なわない

## 受け入れ基準（テスト観点）
- [ ] AGENTS.mdに第1〜7章の参照セクションが追加されている
- [ ] 章別詳細ルールが適切な場所に新規作成され、内容が最新（2025-10-21出版時点）に沿っている
- [ ] ルール間で矛盾や重複がなく、既存不変条件と衝突しない

## 曖昧さ・前提
- [NEEDS CLARIFICATION] 章別ルールの詳細度（例: コード例まで含めるか、原則レベルに留めるか）
- [NEEDS CLARIFICATION] `.cursor/rules/`と`docs/`どちらに章別ルールファイルを置くか（Codexの読み込み優先度をどちらに置くか要確認）
- [NEEDS CLARIFICATION] 書籍に今後追補がある場合の運用（第8章以降が公開予定のため更新フローを定義するか）
